<div class="row">
  <div class="col-md-12">
    <div class="portlet light " id="stockForm">
      <div class="portlet-body form">
        <form [formGroup]="formModule" class="form-horizontal" (ngSubmit)="saveStockInfo()" id="submitForm">
          <div class="form-body">
            <!--<div class="alert alert-danger display-none">-->
            <!--<button class="close" data-dismiss="alert"></button>-->
            <!--请确认问卷信息填写完整.-->
            <!--</div>-->
            <!--<div class="alert alert-success display-none">-->
            <!--<button class="close" data-dismiss="alert"></button>-->
            <!--问卷生成成功，请继续配置问卷内容!-->
            <!--</div>-->
            <h3 class="block">股票基本信息</h3>
            <div class="form-group form-md-line-input"
                 [class.has-error]="formModule.get('name').touched&&!formModule.get('name').valid"
            >
              <label class="control-label col-sm-4">股票名称
                <span class="required"> * </span>
              </label>
              <div class="col-sm-4">
                <input type="text" formControlName="name" class="form-control"/>
                <div class="form-control-focus"></div>
                <span class="help-block"
                      [style.display]="formModule.get('name').untouched || formModule.get('name').touched&&formModule.get('name').valid ? 'block':'none'">
                  请输入股票名称
                </span>
                <span class="help-block"
                      [style.display]="formModule.get('name').untouched || (formModule.get('name').touched&&!formModule.hasError('required','name')) ? 'none':'block'">
                  {{formModule.getError('required','name')}}
                </span>
                <span class="help-block"
                      [style.display]="formModule.get('name').untouched || (formModule.get('name').touched&&!formModule.hasError('minLength','name')) ? 'none':'block'">
                  {{formModule.getError('minLength','name')}}
                </span>
              </div>
            </div>
            <div class="form-group form-md-line-input"
                 [class.has-error]="formModule.get('price').touched&&!formModule.get('price').valid"
            >
              <label class="control-label col-sm-4">股票价格
                <span class="required"> * </span>
              </label>
              <div class="col-sm-4">
                <input type="text" formControlName="price" class="form-control"/>
                <div class="form-control-focus"></div>
                <span class="help-block"
                      [style.display]="formModule.get('price').untouched || formModule.get('price').touched&&formModule.get('price').valid ? 'block':'none'">
                  请输入股票价格
                </span>
                <span class="help-block"
                      [style.display]="formModule.get('price').untouched || (formModule.get('price').touched&&!formModule.hasError('required','price')) ? 'none':'block'">
                  {{formModule.getError('required','price')}}
                </span>
              </div>
            </div>
            <div class="form-group form-md-line-input">
              <label class="control-label col-sm-4">股票星级
                <span class="required">*</span>
              </label>
              <div class="col-sm-4">
                <div class="stars-level">
                  <app-stars-level [(level)]="stock.level" [readonly]="false"></app-stars-level>
                </div>
              </div>
            </div>
            <div class="form-group form-md-line-input">
              <label class="control-label col-sm-4">股票描述
                <span class="required"></span>
              </label>
              <div class="col-sm-4">
                <textarea class="form-control" formControlName="description" cols="30" rows="10"></textarea>
                <div class="form-control-focus"></div>
                <span class="help-block">请输入股票描述</span>
              </div>
            </div>
            <div class="form-group form-md-line-input"
                 [class.has-error]="formModule.get('categories').dirty&&!formModule.get('categories').valid"
            >
              <label class="control-label col-sm-4">股票类型
                <span class="required"> * </span>
              </label>
              <div class="col-sm-8">
                <div class="row">
                  <div formArrayName="categories" class="md-checkbox-inline">
                    <div *ngFor="let category of stockCategory;let i = index;"
                         class="md-checkbox col col-xs-6 col-sm-4 col-md-3">
                      <input [formControlName]="i" id="categoryCheckbox{{i}}" class="md-check" type="checkbox">
                      <label for="categoryCheckbox{{i}}">
                        <span class="inc"></span>
                        <span class="check"></span>
                        <span class="box"></span>{{category}}</label>
                    </div>
                  </div>
                </div>
                <div class="row">

                  <div class="col-sm-12">
                  <span
                        [style.display]="formModule.get('categories').pristine||!formModule.hasError('required','categories') ? 'none':'block'"
                        [style.color]="formModule.get('categories').pristine||!formModule.hasError('required','categories') ? 'transparent':'red'"
                  >
                  {{formModule.getError('required','categories')}}
                  </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-actions">
            <div class="row">
              <div class="col-md-offset-3 col-md-6">
                <a href="javascript:;" class="btn default button-previous pull-left">
                  取消
                  <i class="fa fa-remove"></i></a>
                <a href="javascript:;" id="release" class="btn green button-submit pull-right"
                   (click)="saveStockInfo()"
                >保存
                  <i class="fa fa-save"></i>
                </a>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
